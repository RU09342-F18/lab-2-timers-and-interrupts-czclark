# Button Based Delay

In order to implement the button based delay on the MSP, you must cycle through 3 stages. The first stage is to just to set the LED to blink at a certain frequency (initially). This can be done the way discussed in the second part of the quiz. By setting an interrupt to trigger at a button "press" (using PxIE and PxIES |= BITn), you can enter the second stage for recording the time the button is pressed. The interrupt for the button is reset and configured to trigger upon the buttons release (PxIES &= BITn). The timer is also reset and more importantly TAxR is cleared. Once TAxR is clear, the timer is configured in continuous mode and stays there until the next interrupt 
(the button's release). When the button is released, the timer is stopped and the value in TAxR (total counts) stored in CCR. The timer is then reconfigured to up mode and the LED will be triggered to blink again. The time it takes for the counter to increment to the new CCR value will be the amount of time the button was pressed and the amount of time the LED is delayed. 

Just a note, by setting the divider on for some clock signal, the frequency of the clock signal can be reduced. I didn't realize this at first, but by doing you can increase the amount of time that can be recorded before your register overflows. By reducing the frequency more counts can be taken over a longer period of time, meaning less data stored in the TAxR register over time. This also reduces the precision of the time recorded, but we are talking only microseconds of error.  
